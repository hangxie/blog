<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>gnat &#8211; Flying Bug</title>
	<atom:link href="https://xiehang.com/blog/tag/gnat/feed/" rel="self" type="application/rss+xml" />
	<link>https://xiehang.com/blog</link>
	<description>Debugging and Being Debugged</description>
	<lastBuildDate>Thu, 25 Jun 2009 04:36:00 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>https://wordpress.org/?v=6.1</generator>
	<item>
		<title>SBCL and Win32</title>
		<link>https://xiehang.com/blog/2009/06/24/sbcl-and-win32/</link>
		
		<dc:creator><![CDATA[Hang]]></dc:creator>
		<pubDate>Thu, 25 Jun 2009 04:36:00 +0000</pubDate>
				<category><![CDATA[Triviality]]></category>
		<category><![CDATA[ada]]></category>
		<category><![CDATA[gnat]]></category>
		<category><![CDATA[PPCam]]></category>
		<category><![CDATA[SBCL]]></category>
		<category><![CDATA[Win32]]></category>
		<guid isPermaLink="false">https://xiehang.com/blog/?p=505</guid>

					<description><![CDATA[Found something cute &#8211; Here is a ASDF interface of Win32 for SBCL, seems I can create Win32 application easily with it. So, I&#8217;m kind of away from Ada now since the new GNAT 2009 did not solve the Win32 binding issue, my work on Ada became a interpretter, that is, reading C/C++ specification of <a href='https://xiehang.com/blog/2009/06/24/sbcl-and-win32/' class='excerpt-more'>[...]</a>]]></description>
										<content:encoded><![CDATA[<p>Found something cute &#8211; Here is a <a href="http://www.lisphacker.com/blog/display/some-sbclwin32-hacking">ASDF interface of Win32</a> for SBCL, seems I can create Win32 application easily with it.</p>
<p>So, I&#8217;m kind of away from Ada now since the new GNAT 2009 did not solve the Win32 binding issue, my work on Ada became a interpretter, that is, reading C/C++ specification of Win32 APIs, and then use Ada to rewrite them, I&#8217;m pretty sure I was bored with it so I slowered down the development.</p>
<p>Lisp &#8230; seems like a different story, the community is a lot more active (based on discussion in USENET), also there are more than one compiler/interpreter providers vs. one from Ada (yes, GNAT is great, but it&#8217;s GNAT only), I can see SBCL and CMUCL are pretty promissing, while a lot other providers are coming up.</p>
<p>I may go write the PPCam program again, with Lisp, I know I&#8217;m stubborn, but I just want to get it done, with any non-Microsoft, and non-Borland software.</p>
<p>BTW, I gave up the idea of finding an IDE, I&#8217;ll work on command line to build a GUI application <img src="https://s.w.org/images/core/emoji/14.0.0/72x72/1f642.png" alt="ðŸ™‚" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>
]]></content:encoded>
					
		
		
			</item>
		<item>
		<title>GNAT GPL 2009 is out, finally</title>
		<link>https://xiehang.com/blog/2009/05/29/gnat-gpl-2009-is-out-finally/</link>
		
		<dc:creator><![CDATA[Hang]]></dc:creator>
		<pubDate>Fri, 29 May 2009 07:39:54 +0000</pubDate>
				<category><![CDATA[Triviality]]></category>
		<category><![CDATA[2009]]></category>
		<category><![CDATA[ada]]></category>
		<category><![CDATA[gnat]]></category>
		<guid isPermaLink="false">https://xiehang.com/blog/?p=431</guid>

					<description><![CDATA[Yesterday (actually, May 27) I encountered a pretty long &#8220;glitch&#8221; on http://libre.adacore.com,/ and was wondering either there were too many downloads that brought down the site, or AdaCore gurus were working on the site for the coming release. I&#8217;m genius ðŸ˜€ &#8211; it turned out GNAT GPL 2009 is ready today, I&#8217;ve been waiting for <a href='https://xiehang.com/blog/2009/05/29/gnat-gpl-2009-is-out-finally/' class='excerpt-more'>[...]</a>]]></description>
										<content:encoded><![CDATA[<p>Yesterday (actually, May 27) I encountered a pretty long &#8220;glitch&#8221; on <a href="http://libre.adacore.com/">http://libre.adacore.com/</a>, and was wondering either there were too many downloads that brought down the site, or AdaCore gurus were working on the site for the coming release.</p>
<p>I&#8217;m genius <img src="https://s.w.org/images/core/emoji/14.0.0/72x72/1f600.png" alt="ðŸ˜€" class="wp-smiley" style="height: 1em; max-height: 1em;" /> &#8211; it turned out GNAT GPL 2009 is ready today, I&#8217;ve been waiting for this version for quite some time, most because of the new feature that can generate Ada specification based on C/C++ header files.</p>
<p>I&#8217;m going to see if I can get Ada specification files for DirectShow stuffs, I believe this kind of feature works fine on *nix, but for Windows &#8230; I don&#8217;t have much confidence as Windows is at the bottom of the supporting list in open source world.</p>
<p>Let&#8217;s see.</p>
]]></content:encoded>
					
		
		
			</item>
		<item>
		<title>Waiting for GNAT GPL 2009</title>
		<link>https://xiehang.com/blog/2009/05/20/waiting-for-gnat-gpl-2009/</link>
		
		<dc:creator><![CDATA[Hang]]></dc:creator>
		<pubDate>Thu, 21 May 2009 02:47:46 +0000</pubDate>
				<category><![CDATA[Triviality]]></category>
		<category><![CDATA[ada]]></category>
		<category><![CDATA[free]]></category>
		<category><![CDATA[gnat]]></category>
		<category><![CDATA[open source]]></category>
		<guid isPermaLink="false">https://xiehang.com/blog/?p=387</guid>

					<description><![CDATA[There are some promising features, the most important one to me is generate Ada specification based on C/C++ header files, this will give me a break on creating my own bindings. Let&#8217;s see &#8211; their web site mentioned late May, so it could be just couple of days ahead.]]></description>
										<content:encoded><![CDATA[<p>There are some promising features, the most important one to me is generate Ada specification based on C/C++ header files, this will give me a break on creating my own bindings.</p>
<p>Let&#8217;s see &#8211; their web site mentioned late May, so it could be just couple of days ahead.</p>
]]></content:encoded>
					
		
		
			</item>
		<item>
		<title>Finally, I can preview my video now</title>
		<link>https://xiehang.com/blog/2009/04/16/finally-i-can-preview-my-video-now/</link>
					<comments>https://xiehang.com/blog/2009/04/16/finally-i-can-preview-my-video-now/#comments</comments>
		
		<dc:creator><![CDATA[Hang]]></dc:creator>
		<pubDate>Thu, 16 Apr 2009 21:41:40 +0000</pubDate>
				<category><![CDATA[Triviality]]></category>
		<category><![CDATA[ada]]></category>
		<category><![CDATA[directshow]]></category>
		<category><![CDATA[gnat]]></category>
		<guid isPermaLink="false">https://xiehang.com/blog/?p=263</guid>

					<description><![CDATA[After some tough time dealing with DirectShow stuffs, finally I can preview video from my own web cam now. There will be something to be tuned at this moment, like how to arrange the command area and video areas, but I believe I&#8217;ve overcome one of the most difficult stuff. There are still three potential <a href='https://xiehang.com/blog/2009/04/16/finally-i-can-preview-my-video-now/' class='excerpt-more'>[...]</a>]]></description>
										<content:encoded><![CDATA[<p>After some tough time dealing with DirectShow stuffs, finally I can preview video from my own web cam now.</p>
<p>There will be something to be tuned at this moment, like how to arrange the command area and video areas, but I believe I&#8217;ve overcome one of the most difficult stuff.</p>
<p>There are still three potential headache ahead:</p>
<ol>
<li>P2P communication, theoratically it won&#8217;t be hard as I did it before, but with Ada I have to deal with those UDP stuffs again, just now sure how easy Ada can handle it</li>
<li>Stream video out, means I need to have my own filter, or, maybe I can find an existing one doing that, but again, I&#8217;m not sure</li>
<li>Showing streamed video from the other side (the remote window), have no idea so far</li>
</ol>
<p>A friend told me I can rely on existing protocols like RSTP or MMS, I have the concerns of violating copyright/patents, but I do some research before picking the protocol I&#8217;m going to use. At this moment I prefer some cross platform protocol, maybe all of them are, but again (yes, again and again), I&#8217;m not sure.</p>
<p>I will try to see if there anyone who can give me some hints on how to do the layout, by now, I will pause the development for couple of days, take some rest, as I&#8217;ve made what I promised (preview video by the end of this week). <img src="https://s.w.org/images/core/emoji/14.0.0/72x72/1f642.png" alt="ðŸ™‚" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>
]]></content:encoded>
					
					<wfw:commentRss>https://xiehang.com/blog/2009/04/16/finally-i-can-preview-my-video-now/feed/</wfw:commentRss>
			<slash:comments>1</slash:comments>
		
		
			</item>
		<item>
		<title>Creating DirectShow binding</title>
		<link>https://xiehang.com/blog/2009/04/15/creating-directshow-binding/</link>
					<comments>https://xiehang.com/blog/2009/04/15/creating-directshow-binding/#comments</comments>
		
		<dc:creator><![CDATA[Hang]]></dc:creator>
		<pubDate>Thu, 16 Apr 2009 06:01:54 +0000</pubDate>
				<category><![CDATA[Triviality]]></category>
		<category><![CDATA[ada]]></category>
		<category><![CDATA[directshow]]></category>
		<category><![CDATA[gnat]]></category>
		<guid isPermaLink="false">https://xiehang.com/blog/?p=261</guid>

					<description><![CDATA[I guess I&#8217;ve got all necessary functions from DirectShow for PPCam project, and created a DirectShow binding. It is still partial as I didn&#8217;t check other APIs that are unrelated to PPCam project. I keyed ~1,800 lines of codes today (include blank and comment lines), what I did is reading MSDN, dig out what kind <a href='https://xiehang.com/blog/2009/04/15/creating-directshow-binding/' class='excerpt-more'>[...]</a>]]></description>
										<content:encoded><![CDATA[<p>I guess I&#8217;ve got all necessary functions from DirectShow for PPCam project, and created a DirectShow binding. It is still partial as I didn&#8217;t check other APIs that are unrelated to PPCam project.</p>
<p>I keyed ~1,800 lines of codes today (include blank and comment lines), what I did is reading MSDN, dig out what kind of APIs I need to use, then check Windows SDK to get the C version of declaration, and write binding. There is <a href="http://www.adapower.org/os/com-simple.html">a great sample</a> from adapower.org, which taught me how to make it.</p>
<p>Actually this is a nice exercise, using Ada doing DirectShow stuffs is actually using C interface. DirectShow is purely COM based so using OO language, especially C++ is the most natual way, but, I still believe using C is the best way to understand what&#8217;s inside, and this helps me know more about the whole structure, and do help implementing good programs.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://xiehang.com/blog/2009/04/15/creating-directshow-binding/feed/</wfw:commentRss>
			<slash:comments>1</slash:comments>
		
		
			</item>
		<item>
		<title>Capture video with  DirectShow</title>
		<link>https://xiehang.com/blog/2009/04/11/capture-video-with-directshow/</link>
		
		<dc:creator><![CDATA[Hang]]></dc:creator>
		<pubDate>Sun, 12 Apr 2009 05:22:34 +0000</pubDate>
				<category><![CDATA[Triviality]]></category>
		<category><![CDATA[ada]]></category>
		<category><![CDATA[directshow]]></category>
		<category><![CDATA[gnat]]></category>
		<guid isPermaLink="false">https://xiehang.com/blog/?p=238</guid>

					<description><![CDATA[I got a sample from Windows SDK that uses DirectShow to capture video from webcam, it works for now but I&#8217;m still reading, just need to know how much it can fit into my PPCam project. The problem is, I need to make the C program works for me to capture video and put an <a href='https://xiehang.com/blog/2009/04/11/capture-video-with-directshow/' class='excerpt-more'>[...]</a>]]></description>
										<content:encoded><![CDATA[<p>I got a sample from Windows SDK that uses DirectShow to capture video from webcam, it works for now but I&#8217;m still reading, just need to know how much it can fit into my PPCam project.</p>
<p>The problem is, I need to make the C program works for me to capture video and put an extra filter to grab data and send to the other end, and after that I need to convert the program from C to Ada. Or, I should start from the sample provided by the SDK and convert it to Ada, then see how to get the extra filter.</p>
<p>I just made the decision to go with the #2 option, it will make more activities in PPCam project, and would let me think more in Ada way.</p>
<p>By the way, I got all my useful search results from Yahoo, it seems to me Yahoo is not that far away from Google in web search, guess we can slowly get market share back.</p>
]]></content:encoded>
					
		
		
			</item>
		<item>
		<title>Language feature is better than OS</title>
		<link>https://xiehang.com/blog/2009/04/07/language-feature-is-better-than-os/</link>
					<comments>https://xiehang.com/blog/2009/04/07/language-feature-is-better-than-os/#comments</comments>
		
		<dc:creator><![CDATA[Hang]]></dc:creator>
		<pubDate>Wed, 08 Apr 2009 07:33:32 +0000</pubDate>
				<category><![CDATA[Triviality]]></category>
		<category><![CDATA[ada]]></category>
		<category><![CDATA[gnat]]></category>
		<guid isPermaLink="false">https://xiehang.com/blog/?p=222</guid>

					<description><![CDATA[I was trying to figure out how to load a file from the path where the executable stays, the first thing came to my mind is using Win32&#8217;s GetCommandLine, and then do GetFullPathName. It seems ideal in C/C++ world but obviously things don&#8217;t work quite well in Ada, especially delimiter changed from / to and <a href='https://xiehang.com/blog/2009/04/07/language-feature-is-better-than-os/' class='excerpt-more'>[...]</a>]]></description>
										<content:encoded><![CDATA[<p>I was trying to figure out how to load a file from the path where the executable stays, the first thing came to my mind is using Win32&#8217;s GetCommandLine, and then do GetFullPathName. It seems ideal in C/C++ world but obviously things don&#8217;t work quite well in Ada, especially delimiter changed from / to  and then changed back, I have no idea what does Ada&#8217;s run-time library is doing.</p>
<p>Then I found Ada has this package &#8211; Ada.Directories, it is actually what I want. Using GetCommandLine to get the executable&#8217;s full path name, and use Ada.Directories.Containing_Directory to get the directory, all set.</p>
<p>This got me recall similar things in C/UNIX, though UNIX API can do whatever I want, it is usually convenience to use C functions as it fit the language well. Things are getting worse with Ada on Windows, since we all know Windows was not developed by Ada &#8230;</p>
<p>BTW, Ada&#8217;s identifier is really long, and actually this is the style I&#8217;m trying to follow.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://xiehang.com/blog/2009/04/07/language-feature-is-better-than-os/feed/</wfw:commentRss>
			<slash:comments>2</slash:comments>
		
		
			</item>
		<item>
		<title>Checked in new codes</title>
		<link>https://xiehang.com/blog/2009/04/04/checked-in-new-codes/</link>
					<comments>https://xiehang.com/blog/2009/04/04/checked-in-new-codes/#comments</comments>
		
		<dc:creator><![CDATA[Hang]]></dc:creator>
		<pubDate>Sun, 05 Apr 2009 07:24:29 +0000</pubDate>
				<category><![CDATA[Triviality]]></category>
		<category><![CDATA[ada]]></category>
		<category><![CDATA[directshow]]></category>
		<category><![CDATA[gnat]]></category>
		<guid isPermaLink="false">https://xiehang.com/blog/?p=209</guid>

					<description><![CDATA[I just checked in new codes of PPCam to SVN on sourceforge.net, I guess I won&#8217;t spend too much time on visual effect in the future, so what we have now is most likely what we have all the time: no Windows gadget, i.e. no toolbox, no menu, no border, no title bar semi-transparent effect, <a href='https://xiehang.com/blog/2009/04/04/checked-in-new-codes/' class='excerpt-more'>[...]</a>]]></description>
										<content:encoded><![CDATA[<p>I just checked in new codes of PPCam to <a href="http://ppcam.svn.sourceforge.net/viewvc/ppcam/trunk/client/">SVN on sourceforge.net</a>, I guess I won&#8217;t spend too much time on visual effect in the future, so what we have now is most likely what we have all the time:</p>
<ul>
<li>no Windows gadget, i.e. no toolbox, no menu, no border, no title bar</li>
<li>semi-transparent effect, means you can still read content on windows below PPCam</li>
<li>Moving by any point, means you can click on any position of the window and drag &amp; drop the window to the new place, this is a must as it does not have title bar for this</li>
</ul>
<p>Note that this is data driven <img src="https://s.w.org/images/core/emoji/14.0.0/72x72/1f609.png" alt="ðŸ˜‰" class="wp-smiley" style="height: 1em; max-height: 1em;" /> , I learnt the idea from previous music player project &#8211; you can just provide a bmp file, and the application will take top-left point as &#8220;transparent sample&#8221;, then any points in the bmp that has the same color as top-left point will be treated as transparent. This feature makes really easier to change the look and feel.</p>
<p>Other than these visible changes, that are some codes related changes, may or may not be that interesting:</p>
<ul>
<li>Added win32api.ads to include those Win32 APIs that the project needs to use, but are missing in win32ada binding</li>
<li>PPCam now becomes a dummy top level package, it used to have those data conversion functions but obviously I can use those from win32ada</li>
<li>Added a bmp to the source, this is the bmp I used to debug/demo</li>
<li>I&#8217;m trying to turn some functions to procedures whenever I don&#8217;t need a return code, I think this is another C habit needs to be changed</li>
</ul>
<p>There will be couple of parts of features to be done in the coming days</p>
<ol>
<li>Include vfw features, I haven&#8217;t got any idea so far</li>
<li>Pop-up menus for the interface to let user enter user name/password/server name, etc</li>
<li>Network, UDP only, then later on I need to have P2P based on it</li>
<li>Server, another GNAT Ada program that will be running on a server to handle authentication, port discovery, etc</li>
</ol>
<p>I believe this project will be running pretty long thinking of how much I have to learn, if I can make a workable version by June I will be super happy.</p>
<p>I will try to check in at least every week so to make the project active, I will also post documents (svn first, web site later) so to make it possible for others to understand the whole project well.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://xiehang.com/blog/2009/04/04/checked-in-new-codes/feed/</wfw:commentRss>
			<slash:comments>1</slash:comments>
		
		
			</item>
		<item>
		<title>Writing my own binding</title>
		<link>https://xiehang.com/blog/2009/04/04/writing-my-own-binding/</link>
		
		<dc:creator><![CDATA[Hang]]></dc:creator>
		<pubDate>Sat, 04 Apr 2009 19:27:42 +0000</pubDate>
				<category><![CDATA[Triviality]]></category>
		<category><![CDATA[ada]]></category>
		<category><![CDATA[directshow]]></category>
		<category><![CDATA[gnat]]></category>
		<guid isPermaLink="false">https://xiehang.com/blog/2009/04/04/writing-my-own-binding/</guid>

					<description><![CDATA[Slowly, I found more and more evidence that win32ada is based on really old Win32 APIs, be more precisely, it may support Windows 95 but definitely not Windows NT 4.0. I believe the mainstream Windows platform today is XP, with some Vista, so win32ada misses a lot. I was thinking to create a new package <a href='https://xiehang.com/blog/2009/04/04/writing-my-own-binding/' class='excerpt-more'>[...]</a>]]></description>
										<content:encoded><![CDATA[<p>Slowly, I found more and more evidence that win32ada is based on really old Win32 APIs, be more precisely, it may support Windows 95 but definitely not Windows NT 4.0. I believe the mainstream Windows platform today is XP, with some Vista, so win32ada misses a lot.</p>
<p>I was thinking to create a new package to include those missing APIs that are necessary to my project, but turned out sometime it is impossible &#8211; some structures are not 4.0 compatible, so most likely I am still programming for Windows 95.</p>
<p>Now I am, seriously, thinking about creating my own binding, which supports modern Windows APIs, either Vista, or 2008. I can start with manually creating bindings that my project needs, then after making sure I&#8217;m doing the right thing, I can run those tools to create full set binding in a (semi-) automatic way.</p>
<p>I will try to avoid layered packages, as I don&#8217;t want to do &#8220;use&#8221; unless it is really necessary (such as &#8220;use type&#8221; for operators), but remembering where the definition comes from is really tough &#8211; WinUser? WinDef? WinGDI? I think they are just C functions stay in same name space, so should be safe to put them in same package.</p>
<p>I know it will be a super big package, but I don&#8217;t think people even want to know about it.</p>
]]></content:encoded>
					
		
		
			</item>
	</channel>
</rss>
