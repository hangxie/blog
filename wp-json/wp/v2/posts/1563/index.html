{"id":1563,"date":"2013-08-02T12:15:00","date_gmt":"2013-08-02T19:15:00","guid":{"rendered":"http:\/\/xiehang.com\/blog\/?p=1563"},"modified":"2014-01-28T11:05:48","modified_gmt":"2014-01-28T18:05:48","slug":"planning-glusterfs","status":"publish","type":"post","link":"https:\/\/xiehang.com\/blog\/2013\/08\/02\/planning-glusterfs\/","title":{"rendered":"Planning GlusterFS"},"content":{"rendered":"<p>Here&#8217;s my plan.<\/p>\n<p>I have 4 servers named them as gfs[11-14], each machine has 4 disks, with sda allocated for root, swap, etc, and sdb-sdd as data in XFS.<\/p>\n<p>I&#8217;m going to run distributed-replicated volume with replication 2, and I want to keep highest availability, as much as I can. So the layout will be something like this:<!--more--><\/p>\n<table border=\"1\">\n<tbody>\n<tr>\n<th><\/th>\n<th>sdb<\/th>\n<th>sdc<\/th>\n<th>sdd<\/th>\n<\/tr>\n<tr>\n<td>gfs11<\/td>\n<td>brick1#R1<\/td>\n<td>brick2#R1<\/td>\n<td>brick3#R1<\/td>\n<\/tr>\n<tr>\n<td>gfs12<\/td>\n<td>brick1#R2<\/td>\n<td>brick4#R1<\/td>\n<td>brick5#R1<\/td>\n<\/tr>\n<tr>\n<td>gfs13<\/td>\n<td>brick2#R2<\/td>\n<td>brick4#R2<\/td>\n<td>brick6#R1<\/td>\n<\/tr>\n<tr>\n<td>gfs14<\/td>\n<td>brick3#R2<\/td>\n<td>brick5#R2<\/td>\n<td>brick6#R2<\/td>\n<\/tr>\n<\/tbody>\n<\/table>\n<p>So anytime:<\/p>\n<ul>\n<li>If there is single box failure, I have access to all data<\/li>\n<li>If there are two boxes dead, I have access to 5\/6 data<\/li>\n<li>If there are three nodes dead, I still have access to half of data<\/li>\n<\/ul>\n<p>&nbsp;<\/p>\n","protected":false},"excerpt":{"rendered":"<p>Here&#8217;s my plan. I have 4 servers named them as gfs[11-14], each machine has 4 disks, with sda allocated for root, swap, etc, and sdb-sdd as data in XFS. I&#8217;m going to run distributed-replicated volume with replication 2, and I want to keep highest availability, as much as I can. So the layout will be <a href='https:\/\/xiehang.com\/blog\/2013\/08\/02\/planning-glusterfs\/' class='excerpt-more'>[&#8230;]<\/a><\/p>\n","protected":false},"author":1,"featured_media":0,"comment_status":"closed","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"footnotes":""},"categories":[1],"tags":[441,439,440],"_links":{"self":[{"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/posts\/1563"}],"collection":[{"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/comments?post=1563"}],"version-history":[{"count":2,"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/posts\/1563\/revisions"}],"predecessor-version":[{"id":1647,"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/posts\/1563\/revisions\/1647"}],"wp:attachment":[{"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/media?parent=1563"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/categories?post=1563"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/tags?post=1563"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}