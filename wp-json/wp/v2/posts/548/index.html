{"id":548,"date":"2009-07-07T21:21:32","date_gmt":"2009-07-08T04:21:32","guid":{"rendered":"http:\/\/xiehang.com\/blog\/?p=548"},"modified":"2009-07-07T21:23:30","modified_gmt":"2009-07-08T04:23:30","slug":"hello-world-from-clisp-on-windows","status":"publish","type":"post","link":"https:\/\/xiehang.com\/blog\/2009\/07\/07\/hello-world-from-clisp-on-windows\/","title":{"rendered":"Hello, world from CLisp on Windows"},"content":{"rendered":"<p>Now here are steps to build a Windows application as for &#8220;hello, world&#8221; \ud83d\ude42<\/p>\n<p>Create a message.lisp:<\/p>\n<pre>(use-package \"FFI\")\r\n(def-call-out messagebox\r\n              (:name \"MessageBoxA\") (:library \"user32.dll\")\r\n              (:arguments (hwnd int) (text c-string) (capt c-string) (type uint))\r\n              (:return-type int)\r\n              (:language :stdc))\r\n\r\n(defun main()\r\n  (messagebox 0 \"Hello World!\" \"Message\" 0)\r\n  (quit))<\/pre>\n<p>then run:<\/p>\n<blockquote><p>clisp -M &#8220;C:\\Program Files\\clisp-2.47\\base\\lispinit.mem&#8221; -x &#8220;(load \\&#8221;message.lisp\\&#8221;)(ext:saveinitmem \\&#8221;message\\&#8221; :init-function #&#8217;main :executable t :norc t :quiet t)&#8221;<img loading=\"lazy\" decoding=\"async\" class=\"alignright size-full wp-image-549\" title=\"helloworld\" src=\"https:\/\/xiehang.com\/blog\/wp-content\/uploads\/2009\/07\/helloworld.JPG\" alt=\"helloworld\" width=\"104\" height=\"100\" \/><\/p><\/blockquote>\n<p>now we have a message.exe under the same directory, run it, you will get a standard Windows message box like this:<\/p>\n<p>Almost all stuffs mentioned here are coming from:<\/p>\n<blockquote><p><a href=\"http:\/\/www.frank-buss.de\/lisp\/clisp.html\">http:\/\/www.frank-buss.de\/lisp\/clisp.html<\/a><\/p><\/blockquote>\n<p>except I added &#8220;:quiet t&#8221; to avoid CLisp&#8217;s welcome messages printed out in screen.<\/p>\n","protected":false},"excerpt":{"rendered":"<p>Now here are steps to build a Windows application as for &#8220;hello, world&#8221; \ud83d\ude42 Create a message.lisp: (use-package &#8220;FFI&#8221;) (def-call-out messagebox (:name &#8220;MessageBoxA&#8221;) (:library &#8220;user32.dll&#8221;) (:arguments (hwnd int) (text c-string) (capt c-string) (type uint)) (:return-type int) (:language :stdc)) (defun main() (messagebox 0 &#8220;Hello World!&#8221; &#8220;Message&#8221; 0) (quit)) then run: clisp -M &#8220;C:\\Program Files\\clisp-2.47\\base\\lispinit.mem&#8221; -x &#8220;(load <a href='https:\/\/xiehang.com\/blog\/2009\/07\/07\/hello-world-from-clisp-on-windows\/' class='excerpt-more'>[&#8230;]<\/a><\/p>\n","protected":false},"author":1,"featured_media":0,"comment_status":"closed","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"footnotes":""},"categories":[1],"tags":[109,105,104,38],"_links":{"self":[{"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/posts\/548"}],"collection":[{"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/comments?post=548"}],"version-history":[{"count":4,"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/posts\/548\/revisions"}],"predecessor-version":[{"id":553,"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/posts\/548\/revisions\/553"}],"wp:attachment":[{"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/media?parent=548"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/categories?post=548"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/tags?post=548"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}