{"id":1083,"date":"2011-02-12T23:28:38","date_gmt":"2011-02-13T06:28:38","guid":{"rendered":"http:\/\/xiehang.com\/blog\/?p=1083"},"modified":"2011-02-13T02:51:35","modified_gmt":"2011-02-13T09:51:35","slug":"setup-pptp-on-ubuntu","status":"publish","type":"post","link":"https:\/\/xiehang.com\/blog\/2011\/02\/12\/setup-pptp-on-ubuntu\/","title":{"rendered":"Setup PPTP on Ubuntu"},"content":{"rendered":"<p>Searched online and here comes what I did:<\/p>\n<ol>\n<li>Install pptpd, ufw<\/li>\n<li>change \/etc\/pptpd.conf to enable localip and remoteip<\/li>\n<li>change \/etc\/ppp\/chap-secrets to add user name and password<\/li>\n<li>change \/etc\/ppp\/pptpd-options to enable ms-dns<\/li>\n<li>change sysctl.conf to set net.ipv4.ip_forward=1<\/li>\n<li>change \/etc\/default\/ufw to set DEFAULT_FORWARD_POLICY=&#8221;ACCEPT&#8221;<\/li>\n<li>change \/etc\/ufw\/before.rules\n<pre># nat Table rules\r\n*nat\r\n:POSTROUTING ACCEPT [0:0]\r\n\r\n# Allow forward traffic from eth0:0 to eth0\r\n-A POSTROUTING -s 172.16.123.0\/24 -o eth0 -j MASQUERADE\r\n\r\nCOMMIT<\/pre>\n<\/li>\n<li>ufw allow TCP connection on port 47 and 1723 (surely you want to enable others if you run other services like HTTPd on this host as well)<\/li>\n<\/ol>\n<p>pretty much this is what I have done, restart, and everything should be up and running.<\/p>\n","protected":false},"excerpt":{"rendered":"<p>Searched online and here comes what I did: Install pptpd, ufw change \/etc\/pptpd.conf to enable localip and remoteip change \/etc\/ppp\/chap-secrets to add user name and password change \/etc\/ppp\/pptpd-options to enable ms-dns change sysctl.conf to set net.ipv4.ip_forward=1 change \/etc\/default\/ufw to set DEFAULT_FORWARD_POLICY=&#8221;ACCEPT&#8221; change \/etc\/ufw\/before.rules # nat Table rules *nat :POSTROUTING ACCEPT [0:0] # Allow forward traffic <a href='https:\/\/xiehang.com\/blog\/2011\/02\/12\/setup-pptp-on-ubuntu\/' class='excerpt-more'>[&#8230;]<\/a><\/p>\n","protected":false},"author":1,"featured_media":0,"comment_status":"closed","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"footnotes":""},"categories":[1],"tags":[127,205,59,206,185],"_links":{"self":[{"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/posts\/1083"}],"collection":[{"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/comments?post=1083"}],"version-history":[{"count":6,"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/posts\/1083\/revisions"}],"predecessor-version":[{"id":1090,"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/posts\/1083\/revisions\/1090"}],"wp:attachment":[{"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/media?parent=1083"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/categories?post=1083"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/tags?post=1083"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}