{"id":647,"date":"2009-08-28T00:15:32","date_gmt":"2009-08-28T07:15:32","guid":{"rendered":"http:\/\/xiehang.com\/blog\/?p=647"},"modified":"2009-08-28T00:15:32","modified_gmt":"2009-08-28T07:15:32","slug":"finished-mysql-replication","status":"publish","type":"post","link":"https:\/\/xiehang.com\/blog\/2009\/08\/28\/finished-mysql-replication\/","title":{"rendered":"finished mysql replication"},"content":{"rendered":"<p>Now I have 5 Linux VMs up and running with mysql replication configured and tested &#8211; this is a single master setup.<\/p>\n<p>I did some research around and found that dual\/multiple masters is still not a good solution thinking of the potential conflicts. It seems auto increment will not be a big issue as if end user does not have direct mysql access, then they will not be able to change auto_increment_increment and auto_increment_offset. However, it is still possible that two or more masters get updates for the same record at same or close time, which will cause a tricky question &#8211; what should be the last status of the record? It&#8217;s not totally rely on when the client (of mysql) triggered the update, it also depends on how fast the replication goes.<\/p>\n<p>Some people\/application may not care about this too much &#8211; such as user update profile information, if it&#8217;s user him\/herself edit the record from two browsers and hit submit at almost the same time, it&#8217;s up to him\/her to take the risk. However, this is extrem dangerous if this is a transaction system, that something to do with money, so again, it&#8217;s up to developer to decide using dual\/multiple masters or not. If the application itself can guarantee different clients won&#8217;t write to same record at the same or close time (or better be never), such as data are geo-related, then multiple master is still a good solution.<\/p>\n<p>Anyway, since dual\/multiple masters won&#8217;t give me any benifit (no performance gain, no improvement on reliability), so I will leave the test to the future. For now, I will just leave the replication there (well, will add some monitoring stuffs) and go with mysql proxy test.<\/p>\n<p>Also<\/p>\n","protected":false},"excerpt":{"rendered":"<p>Now I have 5 Linux VMs up and running with mysql replication configured and tested &#8211; this is a single master setup. I did some research around and found that dual\/multiple masters is still not a good solution thinking of the potential conflicts. It seems auto increment will not be a big issue as if <a href='https:\/\/xiehang.com\/blog\/2009\/08\/28\/finished-mysql-replication\/' class='excerpt-more'>[&#8230;]<\/a><\/p>\n","protected":false},"author":1,"featured_media":0,"comment_status":"closed","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"footnotes":""},"categories":[1],"tags":[13,103],"_links":{"self":[{"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/posts\/647"}],"collection":[{"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/comments?post=647"}],"version-history":[{"count":1,"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/posts\/647\/revisions"}],"predecessor-version":[{"id":648,"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/posts\/647\/revisions\/648"}],"wp:attachment":[{"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/media?parent=647"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/categories?post=647"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/tags?post=647"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}