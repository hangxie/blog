{"id":1780,"date":"2017-09-23T20:46:49","date_gmt":"2017-09-24T03:46:49","guid":{"rendered":"https:\/\/xiehang.com\/blog\/?p=1780"},"modified":"2017-09-23T20:46:49","modified_gmt":"2017-09-24T03:46:49","slug":"how-to-delete-a-record-from-aws-route53","status":"publish","type":"post","link":"https:\/\/xiehang.com\/blog\/2017\/09\/23\/how-to-delete-a-record-from-aws-route53\/","title":{"rendered":"How to delete a record from AWS Route53"},"content":{"rendered":"<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"shell\">aws route53 change-resource-record-sets --hosted-zone-id $(aws route53 list-hosted-zones | grep -B 1 '\"xiehang.com.\"' | grep '\"Id\"' | cut -f 4 -d \\\" | cut -f 3 -d \/) --change-batch file:\/\/&lt;(echo '{\"Changes\":[{\"Action\": \"DELETE\",\"ResourceRecordSet\":' $(aws route53 list-resource-record-sets --hosted-zone-id $(aws route53 list-hosted-zones | grep -B 1 '\"xiehang.com.\"' | grep '\"Id\"' | cut -f 4 -d \\\" | cut -f 3 -d \/) --query \"ResourceRecordSets[?Name == 'to-be-deleted.xiehang.com.']\" --max-items 1| egrep -v '^\\[|^\\]')'}]}')<\/pre>\n<p>Or as a script:<\/p>\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"shell\">ZONE_ID=$(aws route53 list-hosted-zones | grep -B 1 '\"xiehang.com.\"' | grep '\"Id\"' | cut -f 4 -d \\\" | cut -f 3 -d \/)\r\nRECORD=$(aws route53 list-resource-record-sets --hosted-zone-id ${ZONE_ID} --query \"ResourceRecordSets[?Name == 'to-be-deleted.xiehang.com.']\" | egrep -v '^\\[|^\\]' --max-items 1)\r\nJSON='{\"Changes\":[{\"Action\": \"DELETE\",\"ResourceRecordSet\":'${RECORD}'}]}'\r\naws route53 change-resource-record-sets --hosted-zone-id ${ZONE_ID} --change-batch file:\/\/&lt;(echo ${JSON})<\/pre>\n<p>&nbsp;<\/p>\n","protected":false},"excerpt":{"rendered":"<p>aws route53 change-resource-record-sets &#8211;hosted-zone-id $(aws route53 list-hosted-zones | grep -B 1 &#8216;&#8221;xiehang.com.&#8221;&#8216; | grep &#8216;&#8221;Id&#8221;&#8216; | cut -f 4 -d \\&#8221; | cut -f 3 -d \/) &#8211;change-batch file:\/\/&lt;(echo &#8216;{&#8220;Changes&#8221;:[{&#8220;Action&#8221;: &#8220;DELETE&#8221;,&#8221;ResourceRecordSet&#8221;:&#8217; $(aws route53 list-resource-record-sets &#8211;hosted-zone-id $(aws route53 list-hosted-zones | grep -B 1 &#8216;&#8221;xiehang.com.&#8221;&#8216; | grep &#8216;&#8221;Id&#8221;&#8216; | cut -f 4 -d \\&#8221; | cut -f <a href='https:\/\/xiehang.com\/blog\/2017\/09\/23\/how-to-delete-a-record-from-aws-route53\/' class='excerpt-more'>[&#8230;]<\/a><\/p>\n","protected":false},"author":1,"featured_media":0,"comment_status":"closed","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"footnotes":""},"categories":[1],"tags":[256,9],"_links":{"self":[{"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/posts\/1780"}],"collection":[{"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/comments?post=1780"}],"version-history":[{"count":1,"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/posts\/1780\/revisions"}],"predecessor-version":[{"id":1781,"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/posts\/1780\/revisions\/1781"}],"wp:attachment":[{"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/media?parent=1780"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/categories?post=1780"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/tags?post=1780"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}