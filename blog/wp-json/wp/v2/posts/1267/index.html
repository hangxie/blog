{"id":1267,"date":"2012-02-21T22:48:13","date_gmt":"2012-02-22T05:48:13","guid":{"rendered":"http:\/\/xiehang.com\/blog\/?p=1267"},"modified":"2012-02-21T22:48:13","modified_gmt":"2012-02-22T05:48:13","slug":"im-not-sure-how-this-works","status":"publish","type":"post","link":"https:\/\/xiehang.com\/blog\/2012\/02\/21\/im-not-sure-how-this-works\/","title":{"rendered":"I&#8217;m not sure how this works &#8230;"},"content":{"rendered":"<p>I setup a <a href=\"http:\/\/wiki.apache.org\/solr\/SolrCloud\">Solr Cloud<\/a> but I&#8217;m not quite sure how it works &#8230; \ud83d\ude00<\/p>\n<p>It seems the problem came from ZooKeeper &#8211; the first node which is running ZooKeeper needs to upload configuration files to ZK, so it takes sometime, however, in my rc script I cannot determined the right way to check if the configuration files are there or not in ZK (I do check ZK port, though), so every time if I start from scratch (means clean up everything) if won&#8217;t work.<\/p>\n<p>Luckily starting from an empty box is not a common case, and even that&#8217;s the case, simple shutdown the cluster (4 solr nodes) and restart it will make everything works.<\/p>\n<p>It seems in real production world, something need to be done to make all nodes coordinate properly, or, better run a standalone ZK cluster (ZooKeeper ensemble).<\/p>\n","protected":false},"excerpt":{"rendered":"<p>I setup a Solr Cloud but I&#8217;m not quite sure how it works &#8230; \ud83d\ude00 It seems the problem came from ZooKeeper &#8211; the first node which is running ZooKeeper needs to upload configuration files to ZK, so it takes sometime, however, in my rc script I cannot determined the right way to check if <a href='https:\/\/xiehang.com\/blog\/2012\/02\/21\/im-not-sure-how-this-works\/' class='excerpt-more'>[&#8230;]<\/a><\/p>\n","protected":false},"author":1,"featured_media":0,"comment_status":"closed","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"footnotes":""},"categories":[1],"tags":[293,292],"_links":{"self":[{"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/posts\/1267"}],"collection":[{"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/comments?post=1267"}],"version-history":[{"count":1,"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/posts\/1267\/revisions"}],"predecessor-version":[{"id":1268,"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/posts\/1267\/revisions\/1268"}],"wp:attachment":[{"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/media?parent=1267"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/categories?post=1267"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/tags?post=1267"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}