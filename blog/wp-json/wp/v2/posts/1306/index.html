{"id":1306,"date":"2012-04-17T12:29:35","date_gmt":"2012-04-17T19:29:35","guid":{"rendered":"http:\/\/xiehang.com\/blog\/?p=1306"},"modified":"2012-04-17T12:29:35","modified_gmt":"2012-04-17T19:29:35","slug":"pointer-template-performance-and-memory-leak","status":"publish","type":"post","link":"https:\/\/xiehang.com\/blog\/2012\/04\/17\/pointer-template-performance-and-memory-leak\/","title":{"rendered":"Pointer, template, performance, and memory leak"},"content":{"rendered":"<p>I&#8217;m a strong supporter to STL since ideally you can get rid of new\/delete and malloc\/free so not worry about memory leakage, sure you still need to think about resource leak but that&#8217;s much easier to debug to me.<\/p>\n<p>However, I&#8217;m stuck in performance issue not with STL, I know STL does a lot of copy operation but I never imagine the performance is this bad, I think the main reason is that I use too many std::string and that kind of copy takes time, but what else can I do, move to char *? That will get back to new\/delete again.<\/p>\n<p>I&#8217;m running oprofile now to see if there is anything else to me optimized &#8211; the goal is 400K bytes\/second, and I&#8217;m at 310K, while old pointer-rich implementation was no less than 500K. If there is nothing to to tuned I will just drop this branch and keep previous ugly but efficient codes.<\/p>\n","protected":false},"excerpt":{"rendered":"<p>I&#8217;m a strong supporter to STL since ideally you can get rid of new\/delete and malloc\/free so not worry about memory leakage, sure you still need to think about resource leak but that&#8217;s much easier to debug to me. However, I&#8217;m stuck in performance issue not with STL, I know STL does a lot of <a href='https:\/\/xiehang.com\/blog\/2012\/04\/17\/pointer-template-performance-and-memory-leak\/' class='excerpt-more'>[&#8230;]<\/a><\/p>\n","protected":false},"author":1,"featured_media":0,"comment_status":"closed","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"footnotes":""},"categories":[1],"tags":[320,317,316,141,318,319],"_links":{"self":[{"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/posts\/1306"}],"collection":[{"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/comments?post=1306"}],"version-history":[{"count":1,"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/posts\/1306\/revisions"}],"predecessor-version":[{"id":1307,"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/posts\/1306\/revisions\/1307"}],"wp:attachment":[{"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/media?parent=1306"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/categories?post=1306"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/xiehang.com\/blog\/wp-json\/wp\/v2\/tags?post=1306"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}